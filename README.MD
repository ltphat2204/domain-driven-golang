# ğŸŒŸ Domain-Driven Golang Task Manager

Welcome to the **Domain-Driven Golang Task Manager**! ğŸš€ This is a robust, modern Go application built with **Domain-Driven Design (DDD)** principles to manage tasks efficiently. Powered by **Gin**, **GORM**, and **PostgreSQL**, it offers a clean architecture, RESTful API, and cross-platform development support. Whether you're a developer exploring DDD or building a scalable task management system, this project is your perfect starting point! ğŸ‰

---

## âœ¨ Features

- ğŸ—‚ **DDD Architecture**: Organized into `domain`, `application`, `infrastructure`, `handlers`, `routes`, `dto`, and `common` packages for maintainability and scalability.
- ğŸ“¡ **RESTful API**: Create, read, update (via PATCH), and delete tasks with standardized JSON responses.
- ğŸ—„ **PostgreSQL Integration**: Persistent storage with GORM for seamless database operations.
- âš™ï¸ **Cross-Platform Development**: `Makefile` supports Windows, macOS, and Linux with automated PostgreSQL container management.
- ğŸ”’ **Environment Configuration**: Securely manage database credentials using `.env` and `.env.example`.
- ğŸ“ **Normalized Responses**: Consistent API responses with `common` package for success and error handling.
- ğŸ›  **Extensible**: Ready for adding authentication, validation, or additional features.

---

## ğŸ›  Tech Stack

- **Go** (1.24.3) ğŸ¹
- **Gin** (HTTP framework) ğŸŒ
- **GORM** (ORM for PostgreSQL) ğŸ—ƒ
- **PostgreSQL** (16-alpine via Docker) ğŸ˜
- **godotenv** (Environment variable management) ğŸ”‘
- **Makefile** (Build automation) âš’

---

## ğŸ“‚ Project Structure

The project follows DDD principles with a modular structure:

```
domain-driven-golang/
â”œâ”€â”€ .env              # Environment variables (ignored by Git)
â”œâ”€â”€ .env.example      # Template for .env
â”œâ”€â”€ .gitignore        # Git ignore rules
â”œâ”€â”€ Makefile          # Build automation
â”œâ”€â”€ go.mod            # Go module dependencies
â”œâ”€â”€ common/           # Common response structures
â”œâ”€â”€ config/           # Database configuration
â”œâ”€â”€ domain/           # Domain entities and interfaces
â”œâ”€â”€ application/      # Business logic
â”œâ”€â”€ infrastructure/   # Database and external services
â”œâ”€â”€ handlers/         # HTTP handlers
â”œâ”€â”€ routes/           # API routes
â”œâ”€â”€ dto/              # Data transfer objects
â””â”€â”€ main.go           # Application entry point
```

---

## ğŸ“‹ Prerequisites

Before you dive in, ensure you have the following installed:

- ğŸ¹ **Go** (1.24.3 or later): [Download Go](https://go.dev/dl/)
- ğŸ³ **Docker**: [Install Docker Desktop](https://www.docker.com/products/docker-desktop/)
- âš’ **Make**: 
  - **Windows**: Install via [Chocolatey](https://chocolatey.org/) (`choco install make`) or use Git Bash/WSL.
  - **macOS/Linux**: Usually pre-installed; verify with `make --version`.
- ğŸ“ **Git**: [Install Git](https://git-scm.com/downloads)

---

## ğŸš€ Getting Started

Follow these steps to set up and run the project locally:

1. **Clone the Repository** ğŸ“¥
   ```bash
   git clone https://github.com/ltphat2204/domain-driven-golang.git
   cd domain-driven-golang
   ```

2. **Initialize Go Module** ğŸ“¦
   ```bash
   go mod init github.com/ltphat2204/domain-driven-golang
   go mod tidy
   ```

3. **Set Up Environment Variables** ğŸ”‘
   - Copy the example environment file:
     ```bash
     cp .env.example .env
     ```
   - The `.env` file is automatically updated by the `Makefile` when starting PostgreSQL, but you can manually edit it if needed:
     ```env
     DB_HOST=localhost
     DB_USER=postgres
     DB_PASSWORD=12345
     DB_NAME=tasks_db
     DB_PORT=5432
     ```

4. **Run the Application** ğŸš€
   - Use the `Makefile` to start PostgreSQL and the Go app:
     ```bash
     make run
     ```
   - This command:
     - Starts a PostgreSQL 16-alpine container (if not already running).
     - Updates `.env` with database credentials.
     - Runs the Go application on `http://localhost:8080`.

5. **Verify the API** ğŸŒ
   - Test the `POST /tasks` endpoint:
     ```bash
     curl -X POST http://localhost:8080/tasks -H "Content-Type: application/json" -d '{"title":"Buy groceries","description":"Milk, eggs, bread"}'
     ```
   - Expected response:
     ```json
     {
         "success": true,
         "data": {
             "ID": 1,
             "Title": "Buy groceries",
             "Description": "Milk, eggs, bread",
             "Status": "pending",
             "CreatedAt": "2025-06-14T02:21:00Z"
         }
     }
     ```

---

## ğŸ“š API Endpoints

The API follows RESTful conventions with normalized JSON responses. Below are the available endpoints:

| Method | Endpoint          | Description                     | Example Payload                                      |
|--------|-------------------|---------------------------------|-----------------------------------------------------|
| `POST` | `/tasks`          | Create a new task               | `{"title":"Task 1","description":"Details"}`        |
| `GET`  | `/tasks/:id`      | Get a task by ID                | -                                                   |
| `GET`  | `/tasks`          | Get all tasks                   | -                                                   |
| `PATCH`| `/tasks/:id`      | Partially update a task         | `{"status":"completed"}`                            |
| `DELETE` | `/tasks/:id`    | Delete a task                   | -                                                   |

### Example Requests

- **Create Task**:
  ```bash
  curl -X POST http://localhost:8080/tasks -H "Content-Type: application/json" -d '{"title":"Buy groceries","description":"Milk, eggs, bread"}'
  ```

- **Update Task (PATCH)**:
  ```bash
  curl -X PATCH http://localhost:8080/tasks/1 -H "Content-Type: application/json" -d '{"status":"completed"}'
  ```

- **Get All Tasks**:
  ```bash
  curl http://localhost:8080/tasks
  ```

---

## ğŸ›  Makefile Commands

The `Makefile` simplifies development tasks and is cross-platform (Windows, macOS, Linux). Run `make help` to see all commands:

```bash
make help
```

| Command          | Description                                      |
|------------------|--------------------------------------------------|
| `make run`       | Start PostgreSQL and run the Go app             |
| `make build`     | Build the executable (`bin/domain-driven-golang`) |
| `make test`      | Run Go tests                                    |
| `make postgres`  | Start the PostgreSQL container                  |
| `make postgres-stop` | Stop and remove the PostgreSQL container    |
| `make clean`     | Stop PostgreSQL and remove build artifacts      |
| `make fmt`       | Format Go code                                  |

---

## ğŸ³ PostgreSQL Setup

The project uses a PostgreSQL 16-alpine container managed via Docker. The `Makefile` automates its setup:

- **Container Name**: `dev-postgres`
- **Database**: `tasks_db`
- **User**: `postgres`
- **Password**: `12345`
- **Port**: `5432`

To interact with the database:
```bash
make postgres-shell
```

---

## ğŸ¤ Contributing

Contributions are welcome! ğŸŒŸ Follow these steps:

1. Fork the repository ğŸ´
2. Create a feature branch (`git checkout -b feature/awesome-feature`) ğŸŒ¿
3. Commit your changes (`git commit -m "Add awesome feature"`) ğŸ“
4. Push to the branch (`git push origin feature/awesome-feature`) ğŸš€
5. Open a Pull Request ğŸ“¬

Please ensure your code follows Go conventions and passes `make fmt` and `make test`.

---

## ğŸ“œ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

## ğŸ‰ Acknowledgements

- **Gin**: For a fast and flexible HTTP framework.
- **GORM**: For seamless ORM integration.
- **PostgreSQL**: For reliable data storage.
- **Go Community**: For awesome tools and libraries! ğŸ¹

---

Built with â¤ï¸ by [ltphat2204](https://github.com/ltphat2204). Happy coding! ğŸš€